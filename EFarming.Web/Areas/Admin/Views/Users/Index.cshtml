@model IEnumerable<EFarming.DTO.AdminModule.UserDTO>
@using PagedList.Mvc;

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />
@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = AdminMessage.Users;
    int counter = 0;
}

<div class="container-fluid">
    <div class="row">
        <p>Haga clic <span class="glyphicon glyphicon-user"></span> para mostrar información sobre los @AdminMessage.Users </p>
    </div>
    <div class="row">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                    <tr>
                        <th></th>
                        <th>UserName</th>
                        <th>Nombre completo</th>
                        <th>Correo</th>
                        <th>Estado</th>
                        <th>Fecha de creación</th>
                        <th>ID</th>
                        <th>Roles</th>
                        @*<th style="text-align:center">Add Projects</th>
                        <th>Projects</th>*@
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                    <tr>
                        <td>@Html.ActionLink(".", "Profile", "Users", new { idUser = item.Id }, new { @class = "glyphicon glyphicon-user" })</td>
                        <td><h6>@item.Username</h6></td>
                        <td width="100%">
                            <h6><span> @item.FullName</span></h6>
                        </td>
                        <td>
                            <a href="mailto:@item.Email" data-toggle="tooltip" title='@item.Email' data-placement="top"><span class="glyphicon glyphicon-envelope"></span></a>
                        </td>
                        <td>
                            @if (@item.IsActive)
                                {
                                <span class="glyphicon glyphicon-ok"></span>
                                }
                                else
                                {
                                <span class="glyphicon glyphicon-remove"></span>
                                }
                        </td>
                        <td>
                            <a href="#" data-toggle="tooltip" title="@item.CreatedAt"><span class="glyphicon glyphicon-calendar">s</span></a>
                        </td>
                        <td>
                            <a href="#" data-toggle="tooltip" title="@item.Id"><span class="glyphicon glyphicon-info-sign"></span></a>
                        </td>
                        <td>
                            @foreach (var roles in item.Roles)
                                {
                                <a>@roles.RoleName</a>
                                }
                        </td>
                        @*<td style="text-align:center">@Html.ActionLink(" ","AssociateProject", "Users", new { idUser = item.Id }, new { @class = "glyphicon glyphicon-plus-sign" })</td>
                        <td>
                            @foreach (var project in item.Projects)
                            {
                                <a>@project.Name</a>
                            }
                        </td>*@

                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.8/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="//cdn.datatables.net/plug-ins/be7019ee387/integration/bootstrap/3/dataTables.bootstrap.js"></script>

    <!-- Script para ordenar columnas // para que el usuario pueda ordenar las columnas -->
    <script type="text/javascript" language="javascript" src="//cdn.datatables.net/colvis/1.1.0/js/dataTables.colVis.min.js"></script>

    @*<script type="text/javascript" language="javascript" src="//cdn.datatables.net/tabletools/2.2.1/js/dataTables.tableTools.min.js"></script>*@

    <script type="text/javascript">
        $(document).ready(function () {
	  // funcion para habilitar 
            $('[data-toggle="tooltip"]').tooltip();

            $(".table").dataTable({
                "order": [0, 'asc']
            });

            //var tt = new $.fn.dataTable.TableTools(table);
            //$(tt.fnContainer()).insertBefore('div.dataTables_wrapper');

        });
    </script>
}




