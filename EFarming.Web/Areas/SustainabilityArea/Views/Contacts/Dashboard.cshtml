@model IEnumerable<EFarming.Core.SustainabilityModule.ContactAggregate.Contact>
@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/themes/base/all.css" rel="stylesheet" />

@section scripts{
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    @*<script src="~/Scripts/highcharts/highcharts-more.js"></script>*@
    @*<script src="~/Scripts/highcharts/solid-gauge.src.js"></script>*@
    <script src="~/Scripts/highcharts/exporting.js"></script>
    <script src="~/Scripts/jquery-ui-1.10.4.min.js"></script>
    <script src="~/Scripts/dashboard/common.js"></script>
    <script src="~/Scripts/Sustainability/ContactDashboard.js"></script>
}

@section breadcrumb{
    <div class="col-md-12">
        <div class="col-md-12">
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-lg-12">
                    <h2 class="page-name">Dashboard Sostenibilidad</h2>
                    <ol class="breadcrumb">
                        <li>
                            <a href="@Url.Action("Index", "Home")">
                                Home
                            </a>
                        </li>

                        <li>
                            <a href="@Url.Action("Dashboard", "Contacts")">
                                Dashboard Sostenibilidad
                            </a>
                        </li>
                    </ol>
                </div>
                <div class="col-lg-2">
                </div>
            </div>
        </div>
    </div>
}

<div class="col-md-12">
    <div class="col-md-12">
        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="row">
                <div style="margin-left:10px">
                    <div div class="col-md-12 text-center" style="margin-top:15px">
                        <div class="col-md-12">
                            <form class="form-inline col-md-12" role="form" method="get" action="/SustainabilityArea/Contacts/Dashboard">
                                <div class="form-group">
                                    <label> Filtrar por fecha: Desde:</label>
                                    @*<label for="year">From:</label>*@
                                    <input type="date" id="start" name="start" class="form-control dateField" value="@string.Format("{0:dd/MM/yyyy}", ViewBag.SelectedStart)" />
                                </div>
                                <div class="form-group">
                                    <label for="year">Hasta: </label>
                                    <input type="date" id="end" name="end" class="form-control dateField" value="@string.Format("{0:dd/MM/yyyy}", ViewBag.SelectedEnd)" />
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-default">Buscar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<br />

<div class="col-md-12">
    <div class="col-md-12">
        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="row">

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12">
                            <div class="col-lg-9">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="bytype">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="byuser">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="drillDown">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-content information-content">
                                        <div class="file-manager">
                                            <h4 class="information">Información</h4>
                                            <div class="space-25"></div>
                                            <ul class="folder-list m-b-md">
                                                <li>
                                                    <i class="fa fa-globe">&nbsp;</i>
                                                    Ubicación:
                                                    <span class="pull-right"><strong></strong></span>
                                                </li>
                                                <li>
                                                    <i class="fa fa-map-marker">&nbsp;</i>
                                                    Cooperativas:
                                                    <ul>
                                                        @foreach (var cooperative in ViewBag.cooperatives)
                                                        {
                                                            <li>
                                                                <a href="@Url.Action("DashboardByCoop", "Contacts", new { CoopId = cooperative.Id, start = ViewBag.SelectedStart, end = ViewBag.SelectedEnd })">
                                                                    @cooperative.Name
                                                                </a>
                                                            </li>
                                                        }
                                                    </ul>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var startDate = "@string.Format("{0:MM/dd/yyyy}", ViewBag.SelectedStart)";
    var endDate = "@string.Format("{0:MM/dd/yyyy}", ViewBag.SelectedEnd)";
    var CooperativeId = "null"
</script>

