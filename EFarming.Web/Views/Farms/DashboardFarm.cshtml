@model EFarming.DTO.FarmModule.FarmDTO
@{
    ViewBag.Title = "Dashboard Farm";
}

<!--<script src="~/Scripts/highcharts/6.1.1/export-data.js"></script>
<script src="~/Scripts/highcharts/6.1.1/exporting.js"></script>-->
<script src="~/Scripts/highcharts/6.1.1/highcharts.js"></script>
<script src="~/Scripts/jquery-ui-1.10.4.min.js"></script>
<script src="~/Scripts/dashboard/DashboardFarm.js"></script>
<script src="~/Scripts/dashboard/Common.js"></script>
<link href="~/Scripts/jquery.loading/jquery.loading.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery.loading/jquery.loading.min.js"></script>
<script type="text/javascript">
    var selectedCountry = "";
    var selectedSupplier = "";
    var selectedSupplyChain = "";
    var selectedDepartment = "@ViewBag.CurrentDepartment";
    var selectedMunicipality = "@ViewBag.CurrentMunicipality";
    var selectedVillage = "@ViewBag.CurrentVillage";
    var selectedFarmStatus = "";
    var selectedFarmSubstatus = "";
    var selectedCooperative = "";
    var selectedOwnershipType = "";
    var selectedCode = "@ViewBag.CurrentCode";
    var selectedName = "@ViewBag.CurrentName";
    var selectedFarmerName = "@ViewBag.CurrentFarmerName";
    var selectedFarmerIdentification = "@ViewBag.CurrentFarmerIdentification";
    var selectedLongitude = "";
    var selectedLatitude = "";
    var selectedElevation = "";
    var selectedAssociatedPeople = "";
    var selectedOption = "";
</script>
<script type="text/javascript">
    search();
    //alert($('input[name=idfarm]').val());
    function search() {
        var url = "/api/DashboardFarm/ByModule?startDate=" + $("#start").val() + "&endDate=" + $("#end").val() + "&id=" + $('input[name=idfarm]').val();
        BasicColumns(url, 'ByModule');

        url = "/api/DashboardFarm/BySubModule?startDate=" + $("#start").val() + "&endDate=" + $("#end").val() + "&farmId=" + $('input[name=idfarm]').val() + "&aux=" + 0;
        BasicColumns(url, 'BySubModule');

        url = "/api/DashboardFarm/TimelineBysubModule?Timelineid=" + $('input[name=idfarm]').val()+ "&IniDate=" + $("#start").val() + "&endDate=" + $("#end").val() ;
        BasicColumns(url, 'TimelineBySubModule');

        url = "/api/DashboardFarm/BySubModuleGAP?InitialDate=" + $("#start").val() + "&endDate=" + $("#end").val() + "&GAPId=" + $('input[name=idfarm]').val();
        BasicColumns(url, 'GAPBySubModule');
    }
</script>
<script src="~/Scripts/mvvm/Common.js"></script>
<!--<script type="text/javascript" src="~/Scripts/mvvm/farm.js"></script>-->

<link href="~/Content/themes/base/all.css" rel="stylesheet" />

<div class="wrapper wrapper-content" id="tabItemDashboard">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Dashboard</h5>
                </div>
                <div class="ibox-content">
                    <div class="flot-chart farm-search">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="year">@Message.Start_Date</label>
                                            <input type="date" id="start" name="start" class="form-control" value="@ViewBag.start.ToString("yyyy-MM-dd")" />
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="year">@Message.End_Date</label>
                                            <input type="date" id="end" name="end" class="form-control" value="@ViewBag.end.ToString("yyyy-MM-dd")" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <input type="hidden" name="idfarm" value="@(Model.Id)" />
                                        <button id="btnsearch" type="button" class="btn btn-success" onclick="search()">@Message.Search</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <hr />
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="ByModule">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="BySubModule">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="TimelineBySubModule">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="ibox float-e-margins">
                                            <div class="ibox-content" style="display: block;">
                                                <div class="flot-chart">
                                                    <div class="charts" id="GAPBySubModule">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
